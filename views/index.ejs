<!DOCTYPE html>
<html>
<head>
  <title><%= title %></title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">
  <link rel='stylesheet' href='/stylesheets/styles.css' />
  <link rel='stylesheet' href='/stylesheets/style.css' />
</head>
<body ng-app="brainworks" ng-controller="brainworksCtrl">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand logo" href="#/home">
          <img src="/images/brainworks.png" alt="Logo">
          <div><%= title %></div>
        </a>
      </div>
      <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
        <ul class="nav navbar-nav navbar-right brainworks-navigation">
          <nav-item serf="home" link-url="#/home" title="<%= home %>"></nav-item>
          <nav-item ng-hide="signed_in" serf="sign_in" link-url="#/sign_in" title="<%= sign_in %>"></nav-item>
          <!-- TODO
            - Loesung fuer die automatische aktiv-Markierung bei auswahl eines unterpunktes.
            - Direktive fuer Dropdown kompatibel machen
          -->
          <li ui-sref-active="active" ng-show="signed_in" class="dropdown">
            <a ui-sref="diagrams | profile | logout" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
              <%= profile %> <span class="caret"></span>
            </a>
            <ul class="dropdown-menu" role="menu">
              <nav-item serf="diagrams" link-url="#/diagrams" title="<%= diagrams %>"></nav-item>
              <nav-item serf="profile" link-url="#/profile" title="<%= profile %>"></nav-item>
              <nav-item link-url="#/logout" title="<%= logout %>"></nav-item>
            </ul>
          </li>
          <nav-item serf="about" link-url="#/about" title="<%= about %>"></nav-item>
        </ul>
      </div>
    </div>
  </nav>
  <div class="container">
    <ui-view></ui-view>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
  <script src="/javascript/main.js"></script>
</body>
</html>
